# The Ricoh 2A03/2A07 is the SoC used in the NES/FC console.
# It uses the 6502 instruction set minus the BCD support.


### Registers

= reg
# accumulator
u8  a
# index registers
u8  x y
# flags
u1  n v b d i z c
u8  p = n ; v ; %1 ; b ; d ; i ; z ; c
# stack pointer
u8  s
u16 sp = $01;s
# program counter
u16 pc


### I/O

= io
u8 mem[u16]


### Stack access

= func push(u8 V)
    mem[sp] := V
    s := s - 1

= func pull(u8& D)
    s := s + 1
    D := mem[sp]
